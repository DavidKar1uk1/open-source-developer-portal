<!DOCTYPE html><html class=no-js><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Dwolla + Regalii | Dwolla API</title><meta name=description content="Dwolla Platform Partners utilize a tokenized solution with Regalii to integrate bill payment functionality in their application"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.89bb.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.d965.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.0423.png><link rel=manifest href=/images/favicons/manifest.json><link rel=mask-icon href=/images/favicons/safari-pinned-tab.5f15.svg color=#ff7404><meta name=theme-color content=#ffffff><link rel=stylesheet href=/css/main.b7e3.css><link rel=stylesheet href="//fonts.googleapis.com/css?family=Roboto+Slab:300|Open+Sans:300,400,600,700"><script src=/js/head-scripts.e5a6.js></script><script src=https://cdn.statuspage.io/se-v2.js></script><script>(function(w, d, s, l, i) {
    w[l] = w[l] || [];
    w[l].push({
      'gtm.start': new Date().getTime(),
      event: 'gtm.js'
    });
    var f = d.getElementsByTagName(s)[0],
      j = d.createElement(s),
      dl = l != 'dataLayer' ? '&l=' + l : '';
    j.async = true;
    j.src =
      'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
    f.parentNode.insertBefore(j, f);
  })(window, document, 'script', 'dataLayer', 'GTM-WRT5LD6');</script></head><body><!--[if lt IE 8]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]--><header><div class="header__primary js-two-col-header-primary"><div class=page-wrap><div><a href=https://www.dwolla.com class="logo icon-logo-dwolla-white">Dwolla</a><div class=hamburger><a href="https://www.dwolla.com/contact?b=nav">Contact Sales</a> <a class="btn primary js-hamburger">Menu</a></div></div><nav class=js-hamburger-nav><a href=https://www.dwolla.com/platform>Platform</a> <a href=https://www.dwolla.com/pricing>Pricing</a> <a href="/">Developers</a> <a href="https://www.dwolla.com/updates/">Blog</a> <a href=https://www.dwolla.com/login>Login</a> <a class="btn primary" href="https://www.dwolla.com/contact?b=nav">Contact Sales</a></nav></div></div><nav class="header__secondary js-two-col-nav-toggle"><div class=js-two-col-header-secondary><div class=page-wrap><a href="/guides/">Guides</a> <a href="/resources/" class=active>Resources</a> <a href="https://docsv2.dwolla.com/">API docs</a> <a href=/pages/sdks.html class="no-nav js-two-col-no-toggle">SDKs</a><div class="custom-select custom-select--blue js-global-language-select"><select name=select class=js-language-select><option value=raw>raw</option><option value=php>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div></div></div></nav></header><div class=content><div class=cnt-two-col><div class=page-wrap><section class="cnt-two-col__nav js-two-col-nav"><div class=close><button class="js-two-col-nav-close icon-cnt-two-col-close"></button></div><div class=language-picker><h6>Language</h6><div class="custom-select custom-select--blue"><select class=js-language-select name=select><option value=raw>raw</option><option value=php selected>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div></div><!-- nav elements below should be in the same order of the secondary navigation --><nav class="side-nav js-side-nav"><section id=js-sidenav-dropdown class=side-nav__dropdown><h6>Choose a guide</h6><div class=picker id=js-sidenav-dropdown-button><button>Please select a guide</button><div class="icon icon-side-nav-collapse-plus"></div><div class="icon icon-side-nav-collapse-minus"></div></div><nav id=js-sidenav-dropdown-nav><a href="/guides/sandbox-setup/">Getting started in Sandbox</a> <a href="/guides/send-money/">Send money to your users</a> <a href="/guides/receive-money/">Receive money from your users</a> <a href="/guides/transfer-money-between-users/">Transfer money between users</a> <a href="/guides/auth/">Authorization</a> <a href="/guides/webhooks/">Webhooks</a></nav></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/send-money>Overview: Send money to your users</a><div class=dot></div></li><li><a href=/guides/send-money/onboarding.html>Customer onboarding</a><div class=dot></div></li><li><a href=/guides/send-money/fetch-funding-sources.html>Fetch funding sources</a><div class=dot></div></li><li><a href=/guides/send-money/create-transfer.html>Create a transfer</a><div class=dot></div></li><li><a href=/guides/send-money/check-transfer.html>Check transfer status</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/receive-money>Overview: Receive money from your users</a><div class=dot></div></li><li><a href=/guides/receive-money/onboarding.html>Customer onboarding</a><div class=dot></div></li><li><a href=/guides/receive-money/check-transfer.html>Check transfer status</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/transfer-money-between-users>Overview: transfer money between your users</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/obtain-access-token.html>Obtain an application access token</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/create-verified-customer.html>Create a Verified Customer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/attach-unverified-bank.html>Attach an unverified funding source</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/create-unverified-customer.html>Create an Unverified Customer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/attach-verified-bank.html>Attach a verified funding source</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/create-transfer.html>Create a transfer</a><div class=dot></div></li><li><a href=/guides/transfer-money-between-users/check-transfer.html>Check the status of your transfer</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>In this guide</h6><ol><li><a href=/guides/auth>Overview: Authorization</a><div class=dot></div></li><li><a href=/guides/auth/client-credentials-flow.html>Client credentials flow</a><div class=dot></div></li><li><a href=/guides/auth/using-an-access-token.html>Using an access token</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/webhooks>Overview: Webhooks</a><div class=dot></div></li><li><a href=/guides/webhooks/obtain-authorization.html>Obtain authorization</a><div class=dot></div></li><li><a href=/guides/webhooks/create-subscription.html>Create a webhook subscription</a><div class=dot></div></li><li><a href=/guides/webhooks/validating-webhooks.html>Validating webhooks</a><div class=dot></div></li><li><a href=/guides/webhooks/process-webhooks.html>Processing webhooks</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>Follow the steps</h6><ol><li><a href=/guides/migrate-to-v2>Overview: Migrate to the Dwolla v2 API</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/01-api-v2-principles.html>Dwolla v2 API principles</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/02-making-requests.html>Making requests</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/03-authentication.html>Authentication</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/04-sdk-support.html>SDK support</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/05-v1-to-v2-endpoint-changes.html>v1 to Dwolla v2 API endpoint changes</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/06-other-notable-changes.html>Other notable changes</a><div class=dot></div></li><li><a href=/guides/migrate-to-v2/07-faq.html>FAQ</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>In this guide</h6><ol><li><a href=/guides/offsite-gateway>Overview: Off-Site Gateway</a><div class=dot></div></li><li><a href=/guides/offsite-gateway/direct-submit.html>Direct submit option</a><div class=dot></div></li><li><a href=/guides/offsite-gateway/server-to-server.html>Server-to-server option</a><div class=dot></div></li></ol></section><section class=side-nav__options style=display:none><h6>Other Resources</h6><ul><li><a href="/guides/migrate-to-v2/"><span>Migrate to the Dwolla v2 API</span></a></li><li><a href="/guides/offsite-gateway/"><span>Off-Site Gateway</span></a></li><li class=external-link><a href="https://docs.dwolla.com/" target=_blank><span class=icon-sidenav-option>API v1 reference docs</span></a></li><li class=external-link><a href="https://docsv2.dwolla.com/transfer/" target=_blank><span class=icon-sidenav-option>Transfer API Docs</span></a></li></ul></section></nav><nav class="side-nav js-side-nav active"><section><h6>Tools</h6><ul><li class=external-link><a href="http://dashboard-sandbox.dwolla.com/" target=_blank><span class=icon-sidenav-option>Sandbox Dashboard</span></a></li><li><a href=/resources/token-generator.html>Token generator</a></li><li><a href=/resources/changelog.html>Change log</a></li><li class=external-link><a href="http://status.dwolla.com/" target=_blank><span class=icon-sidenav-option>Status</span></a></li></ul><h6>The API Basics</h6><ul><li><a href=/resources/account-types.html>Account types</a><ul></ul></li><li><a href=/resources/bank-transfer-workflow.html>Bank transfer workflow</a><ul><li><a href=/resources/bank-transfer-workflow/processing-times.html>Processing times</a></li><li><a href=/resources/bank-transfer-workflow/transfer-failures.html>Transfer failures</a></li></ul></li><li><a href=/resources/business-verified-customer.html>Business Verified Customer</a><ul><li><a href=/resources/business-verified-customer/create-business-verified-customers.html>Creating Business verified Customers</a></li><li><a href=/resources/business-verified-customer/handling-controller-and-customer-statuses.html>Handling business verified Customer Statuses</a></li><li><a href=/resources/business-verified-customer/adding-beneficial-owners.html>Adding beneficial owners</a></li><li><a href=/resources/business-verified-customer/handling-beneficial-owner-certification.html>Certifying beneficial ownership</a></li></ul></li><li><a href=/resources/funding-source-verification.html>Funding source verification</a><ul><li><a href=/resources/funding-source-verification/micro-deposit-verification.html>Micro-deposit verification</a></li><li><a href=/resources/funding-source-verification/instant-account-verification.html>Instant account verification</a></li></ul></li><li><a href=/resources/personal-verified-customer.html>Personal Verified Customer</a><ul><li><a href=/resources/personal-verified-customer/create-personal-verified-customers.html>Personal verified Customers</a></li><li><a href=/resources/personal-verified-customer/handling-verification-statuses-personal.html>Handling verification statuses</a></li></ul></li><li><a href=/resources/testing.html>Testing in the Sandbox</a><ul></ul></li></ul><h6>Features</h6><ul><li><a href=/resources/dwolla-js.html>Dwolla.js</a><ul><li><a href=/resources/dwolla-js/add-a-bank-account.html>Add a bank account</a></li><li><a href=/resources/dwolla-js/instant-account-verification.html>Instant account verification</a></li><li><a href=/resources/dwolla-js/on-demand-bank-transfers.html>On-demand bank transfers</a></li></ul></li><li><a href=/resources/facilitator-fee.html>Facilitator fee</a><ul></ul></li><li><a href=/resources/same-day-ach.html>Same Day ACH</a><ul></ul></li><li><a href=/resources/wire-transfer-api.html>Wire transfer API</a><ul></ul></li></ul><h6>Integrations</h6><ul><li><a href=/resources/dwolla-billpayment-integration.html class=active>Dwolla + Regalii</a><ul></ul></li><li><a href=/resources/dwolla-plaid-integration.html>Dwolla + Plaid</a><ul></ul></li><li><a href=/resources/dwolla-sift-science-integration.html>Dwolla + Sift Science</a><ul></ul></li></ul></section></nav><nav class="side-nav js-side-nav"><section id=js-sidenav-dropdown class=side-nav__dropdown><ul><li><a href=https://docsv2.dwolla.com/#introduction>Introduction</a></li><li><a href=https://docsv2.dwolla.com/#oauth>OAuth</a></li><li><a href=https://docsv2.dwolla.com/#customers>Customers</a></li><li><a href=https://docsv2.dwolla.com/#documents>Documents</a></li><li><a href=https://docsv2.dwolla.com/#funding-sources>Funding Sources</a></li><li><a href=https://docsv2.dwolla.com/#transfers>Transfers</a></li><li><a href=https://docsv2.dwolla.com/#events>Events</a></li><li><a href=https://docsv2.dwolla.com/#webhook-subscriptions>Webhook Subscriptions</a></li><li><a href=https://docsv2.dwolla.com/#webhooks>Webhooks</a></li></ul></section></nav></section><section class=cnt-two-col__content><h1 id=regalii-integration>Regalii Integration</h1><p>Dwolla and Regalii have teamed up to offer a seamless tokenized solution for shared partners, looking to facilitate bill payments within their application. Interaction will occur with both the Regalii and Dwolla APIs in order to successfully create and track the status of a bill payment.</p><p>This article is focused specifically on the interaction with the Dwolla API, however, highlights a few details of the Regalii API implementation.</p><p><strong>Please note:</strong> There are no instructions in this article regarding your integration with the Regalii APIs and specifically there are no details in this article about any notifications and webhooks you will receive from Regalii regarding the the final bill payment.</p><p>Please review Regalii’s documentation for more information on when Regalii will send you webhooks regarding the final bill payment <a href=https://www.regalii.com/api/v3/#when-are-webhooks-sent>webhook details</a>.</p><p><img src=/images/regalii-integration-diagram.b1e8.png alt="Screenshot of Dwolla and Regalii Integration" title="Dwolla and Regalii Integration"></p><h2 id=using-regalii-dwolla>Using Regalii + Dwolla</h2><p>For the purposes of this walkthrough, we’ll assume you’ve familiarized yourself with the <a href=https://docsv2.dwolla.com>Dwolla API</a> and understand the proper workflow for onboarding your users as <a href=https://docsv2.dwolla.com/#create-a-customer>Customers</a>, including how to attach <a href=https://developers.dwolla.com/resources/funding-source-verification.html>verified funding sources</a> to those Customers.</p><p>In addition, you will want to familiarize yourself with the key concepts of the <a href="https://www.regalii.com/apix/v3/">Regalii API</a>, which includes syncing biller information and initiating the request to pay a bill.</p><p>Both Regalii and Dwolla offer fully functional sandbox environments to complete your integration without needing to interact with real user data. It is recommended to obtain API credentials from both services, as well as register a webhook URL for receiving notifications related to bills and bill payments.</p><h2 id=integration-overview>Integration Overview</h2><p>Below are the steps you will take to successfully enable your bill payment integration:</p><ol><li>Obtain a bill payment token and enable the integration in the Dwolla dashboard</li><li>Retrieve a list of billers and connect a Customer with their biller account</li><li>A customer authorizes and requests for your application to create a bill payment using a Dwolla funding source ID</li><li>Track the status of a bill payment within the Dwolla platform with transfer webhooks sent from Dwolla. You will need to interact with Regalii’s API to receive all other transfer webhooks.</li></ol><p>The first step in enabling your bill payment integration is linking the two solutions together (Dwolla and Regalii) through obtaining a bill payment token from the Regalii API and submitting it in the Dwolla dashboard. Let’s get started!</p><h3 id=step-1-obtain-a-bill-payment-token-and-enable-integration-in-dwolla-dashboard>Step 1 - Obtain a bill payment token and enable integration in Dwolla dashboard</h3><p>To configure the bill payment integration you will need to obtain a unique token from the Regalii API, which will be used by Dwolla to identify your account with Regalii. This is only performed one time as part of the initial setup process. The response from the Regalii API will include a “dwolla” JSON object that contains a billpayment_token parameter. As an example:</p><p><code>{&quot;dwolla&quot;:{&quot;billpayment_token&quot;:&quot;1e54f94af312f3b1c09633820e6a2ea2c16f2c0f&quot;}}</code></p><p>You will <a href=https://dashboard-sandbox.dwolla.com/account/integrations>use the Dwolla dashboard</a> to enable the integration. Once the integration is enabled in the dashboard, Dwolla will exchange information with Regalii to ensure a secure connection is established.</p><h5 id=integration-detail-read-only-customer>Integration detail: Read-only Customer</h5><p>If the token exchange from Dwolla to Regalii is successful, Dwolla will then systematically create a read-only <a href=https://docsv2.dwolla.com/#customers>Customer</a> account for Regalii’s bank that will be used as the Regalii Destination Account for all bill payments. When retrieving a transfer relating to a bill payment from the Dwolla API, the read-only Customer will be visible as the destination Customer account in the transfer.</p><h3 id=step-2-retrieve-list-of-billers-and-select-biller-to-pay>Step 2 - Retrieve list of billers and select biller to pay</h3><p>In this step you will interact with the Regalii API and provide your end-users with the ability to select from a list of billers. This list should be stored by your application and updated periodically for syncing biller information over time.</p><p>The list of billers will include information about the biller, such as address and type, as well as information that is needed for creating a bill payment request, such as <code>biller ID</code> and <code>mask_format</code>. You have to make sure the <code>account_number</code> in the request to create a bill payment transaction matches one of the <code>mask_formats</code> for a selected RPPS biller.</p><h3 id=step-3-create-a-bill-payment-using-a-dwolla-customer-s-funding-source-id>Step 3 - Create a bill payment using a Dwolla Customer’s funding source ID</h3><p>Now that your customer has selected the biller they want to pay, you are ready to call the Regalii API to create the bill payment transaction. There are a few fields required in order to create the bill payment transaction, which include: the Dwolla Customer’s funding source ID (identifies the end-user&rsquo;s bank), an <code>rpps_biller_id</code>, <code>account_number</code>, <code>amount</code>, and <code>currency</code>; as well information about the customer such as <code>date of birth</code>, <code>full name</code>, and <code>address</code> (optional).</p><h4 id=request-and-response>Request and response</h4><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class=language-nohide data-lang=nohide>POST https://apix.casiregalii.com/transactions
Content-MD5: {MD5}
Authorization: APIAuth { {RegaliiAPIKey}:{CHECKSUM}}
Date: Mon, 19 Mar 2018 14:20:57 GMT
Content-Type: application/json
Accept: application/vnd.regalii.v3.2+json

{
  “dwolla_funding_source_id”: “c91d6516-1855-4d36-be7c-bc78cc7c52c3”
  "account_number": "12345678998",
  "amount": "2000.0",
  "currency": "USD",
  "payer_born_on": "1991-01-05"
  "phone_number": "(714) 202-5081",
  "client_number": "805-612-0442",
  "first_name": "Jane",
  "last_name": "Doe",
  "rpps_biller_id": "12345678-de6b-4d5f-a14b-77df55ae5e55",
  "address": {
    "street": "123 Main St",
    "zip_code": "12345",
    "city": "New York"
    “state”: “NY”
  }
}
</code></pre></div></div><ol class=alerts><li class="alert icon-alert-info">The `client_number` is a unique identifier for the customer making the bill payment. It is recommended that a phone number is used as the value of `client_number`.</li></ol><p>Upon success, the response from the Regalii API will include a transaction ID and an preliminary status of <code>initialized</code>, which represents representing that the transaction was created in the Regalii system and is pending transfer creation through Dwolla.</p><h4 id=example-response>Example Response</h4><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class=language-nohide data-lang=nohide><span class=p>{</span><span class=w>
    </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=s2>"5969ae86-8e88-4daf-8936-ad84a9d1cc30"</span><span class=p>,</span><span class=w>
    </span><span class=nt>"status"</span><span class=p>:</span><span class=w> </span><span class=s2>"initialized"</span><span class=p>,</span><span class=w>
    </span><span class=nt>"bill_id"</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w>
    </span><span class=nt>"account_number"</span><span class=p>:</span><span class=w> </span><span class=s2>"12345678998"</span><span class=p>,</span><span class=w>
    </span><span class=nt>"currency"</span><span class=p>:</span><span class=w> </span><span class=s2>"USD"</span><span class=p>,</span><span class=w>
    </span><span class=nt>"amount"</span><span class=p>:</span><span class=w> </span><span class=s2>"88.70"</span><span class=p>,</span><span class=w>
    </span><span class=nt>"created_at"</span><span class=p>:</span><span class=w> </span><span class=s2>"2018-01-11T19:42:48.439Z"</span><span class=p>,</span><span class=w>
    </span><span class=nt>"updated_at"</span><span class=p>:</span><span class=w> </span><span class=s2>"2018-01-11T19:42:48.439Z"</span><span class=p>,</span><span class=w>
    </span><span class=nt>"error_code"</span><span class=p>:</span><span class=w> </span><span class=kc>null</span><span class=p>,</span><span class=w>
    </span><span class=nt>"error_message"</span><span class=p>:</span><span class=kc>null</span><span class=w>
  </span><span class=p>}</span><span class=w>
</span></code></pre></div></div><p>If the bill payment through Dwolla is unsuccessful, you will see an <code>error_code</code> and <code>error_message</code> in the transaction’s response.</p><h3 id=step-4-track-the-status-of-a-bill-payment-with-webhooks-triggered-from-dwolla>Step 4 - Track the status of a bill payment with webhooks triggered from Dwolla</h3><p>When a bill payment is successfully created through Dwolla, you’ll want to track the status of the transfer created from the bill payment request. Dwolla and Regalii will have different transaction statuses, so it’s important to understand the differences between those statuses and when they can be returned from created to completion.</p><p>Here is the complete list of Dwolla&rsquo;s transaction statuses and how they map to each other, along with the corresponding Dwolla event that’s triggered when a Dwolla transfer status changes:</p><table><thead><tr><th>Regalii transaction status</th><th>Dwolla transfer status</th><th>Dwolla event</th></tr></thead><tbody><tr><td>Initialized</td><td>N/A</td><td>N/A</td></tr><tr><td>Pending</td><td>N/A</td><td>N/A</td></tr><tr><td>Linked</td><td>Pending</td><td><code>customer_bill_payment_created</code><br><code>customer_transfer_created</code></td></tr><tr><td>Confirmed</td><td>Processed</td><td><code>customer_bill_payment_completed</code><br><code>customer_transfer_completed</code></td></tr><tr><td>Rejected</td><td>Failed</td><td><code>customer_bill_payment_failed</code><br><code>customer_transfer_failed</code></td></tr></tbody></table><p>As referenced above, Regalii will return a transaction id along with a status of “initialized”, which is the status prior to when any <a href=https://docsv2.dwolla.com/#transfers>transfer</a> is created within the Dwolla API.</p><p>Once the transfer is successfully created within the Dwolla system, the Regalii transaction status will update to “linked”. Dwolla will then create events for <code>customer_bill_payment_created</code> and <code>customer_transfer_created</code> and deliver these events via webhooks to your <a href=https://docsv2.dwolla.com/#create-a-webhook-subscription>subscribed webhook endpoint</a> which let your application know a transfer is created with a “pending” status in the Dwolla system.</p><p>There will be additional Regalii transaction statuses after the transfer leaves the Dwolla network. The transaction statuses provided by Regalii will ultimately indicate that the transfer was successfully sent to the biller.</p><h2 id=correlating-a-regalii-transaction-id-to-a-dwolla-transfer>Correlating a Regalii transaction ID to a Dwolla transfer</h2><p>For every successful bill payment request that is made, Regalii will set the value of the <code>correlationId</code> parameter to a Regalii transaction ID, which will be returned on the created transfer in Dwolla. If you have the Regalii transaction ID and want to retrieve the corresponding Dwolla transfer, you can make a request to the Dwolla API to search the transfer by <code>correlationId</code>.</p><h4 id=request-and-response>Request and response</h4><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class=language-nohide data-lang=nohide>https://api-sandbox.dwolla.com/customers/24839785-3c03-4205-a495-55d65c48932e/transfers?correlationId=001d66ac-0323-4d08-9c90-4dd1f4a98718
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer {accessToken}

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/customers/24839785-3c03-4205-a495-55d65c48932e/transfers?correlationId=001d66ac-0323-4d08-9c90-4dd1f4a98718",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "transfer"
    },
    "first": {
      "href": "https://api-sandbox.dwolla.com/customers/24839785-3c03-4205-a495-55d65c48932e/transfers?correlationId=001d66ac-0323-4d08-9c90-4dd1f4a98718",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "transfer"
    },
    "last": {
      "href": "https://api-sandbox.dwolla.com/customers/24839785-3c03-4205-a495-55d65c48932e/transfers?correlationId=001d66ac-0323-4d08-9c90-4dd1f4a98718",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "transfer"
    }
  },
  "_embedded": {
    "transfers": [{
      "_links": {
        "source": {
          "href": "https://api-sandbox.dwolla.com/customers/24839785-3c03-4205-a495-55d65c48932e",
          "type": "application/vnd.dwolla.v1.hal+json",
          "resource-type": "customer"
        },
        "destination-funding-source": {
          "href": "https://api-sandbox.dwolla.com/funding-sources/09fe9ecd-be2b-4e77-9a27-a1e2b09f7896",
          "type": "application/vnd.dwolla.v1.hal+json",
          "resource-type": "funding-source"
        },
        "self": {
          "href": "https://api-sandbox.dwolla.com/transfers/a7f08026-0a2e-e811-8106-0a595ef38714",
          "type": "application/vnd.dwolla.v1.hal+json",
          "resource-type": "transfer"
        },
        "source-funding-source": {
          "href": "https://api-sandbox.dwolla.com/funding-sources/a003fbb9-4a3f-46dc-b47c-979659974acb",
          "type": "application/vnd.dwolla.v1.hal+json",
          "resource-type": "funding-source"
        },
        "destination": {
          "href": "https://api-sandbox.dwolla.com/customers/8c43b398-024b-495a-a64b-29ce4da0e3ef",
          "type": "application/vnd.dwolla.v1.hal+json",
          "resource-type": "customer"
        },
        "bill-payment": {
          "href": "https://api-sandbox.dwolla.com/bill-payments/55bdfc3a-9568-4a67-92b3-867fde741a46",
          "type": "application/vnd.dwolla.v1.hal+json",
          "resource-type": "bill-payment"
        }
      },
      "id": "fd561bb4-7833-e811-8106-0a595ef38714",
      "status": "pending",
      "amount": {
        "value": "88.70",
        "currency": "USD"
      },
      "created": "2018-03-22T19:49:37.500Z",
      "correlationId": "001d66ac-0323-4d08-9c90-4dd1f4a98718",
      "individualAchId": "IQ2242EX"
    }]
  },
  "total": 1
}
</code></pre></div></div><p>After searching for the Dwolla transfer by <code>correlationId</code>, Dwolla will return the transfer object in the API response which includes information on the transfer such as amount, created, and a link to the related bill payment resource. For tracking the status of the bill payment transfer through Dwolla, you can either store the link which represents the created bill payment resource or the link which identifies the created transfer.</p><h2 id=retrieving-a-bill-payment>Retrieving a bill payment</h2><p>It is recommended that your application watches for Dwolla events (e.g. bill payment and/or transfer related) within your integration and calls the Dwolla API to obtain more information about the status of a payment. Below is an illustration of what a request to retrieve a “bill payment” resource from the Dwolla API might look like:</p><h4 id=request-and-response>Request and response</h4><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class=language-nohide data-lang=nohide>GET https://api-sandbox.dwolla.com/bill-payments/55bdfc3a-9568-4a67-92b3-867fde741a46
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer {accessToken}
</code></pre></div></div><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class=language-nohide data-lang=nohide><span class=p>{</span><span class=w>
  </span><span class=nt>"_links"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>
    </span><span class=nt>"self"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>
      </span><span class=nt>"href"</span><span class=p>:</span><span class=w> </span><span class=s2>"https://api-sandbox.dwolla.com/bill-payments/55bdfc3a-9568-4a67-92b3-867fde741a46"</span><span class=p>,</span><span class=w>
      </span><span class=nt>"type"</span><span class=p>:</span><span class=w> </span><span class=s2>"application/vnd.dwolla.v1.hal+json"</span><span class=p>,</span><span class=w>
      </span><span class=nt>"resource-type"</span><span class=p>:</span><span class=w> </span><span class=s2>"bill-payment"</span><span class=w>
    </span><span class=p>},</span><span class=w>
    </span><span class=nt>"transfers"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>
      </span><span class=nt>"href"</span><span class=p>:</span><span class=w> </span><span class=s2>"https://api-sandbox.dwolla.com/transfers/fd561bb4-7833-e811-8106-0a595ef38714"</span><span class=p>,</span><span class=w>
      </span><span class=nt>"type"</span><span class=p>:</span><span class=w> </span><span class=s2>"application/vnd.dwolla.v1.hal+json"</span><span class=p>,</span><span class=w>
      </span><span class=nt>"resource-type"</span><span class=p>:</span><span class=w> </span><span class=s2>"transfer"</span><span class=w>
    </span><span class=p>}</span><span class=w>
  </span><span class=p>},</span><span class=w>
  </span><span class=nt>"id"</span><span class=p>:</span><span class=w> </span><span class=s2>"55bdfc3a-9568-4a67-92b3-867fde741a46"</span><span class=p>,</span><span class=w>
  </span><span class=nt>"billedFor"</span><span class=p>:</span><span class=w> </span><span class=s2>"Biller Name"</span><span class=p>,</span><span class=w>
  </span><span class=nt>"created"</span><span class=p>:</span><span class=w> </span><span class=s2>"2018-03-29T17:43:35.692Z"</span><span class=p>,</span><span class=w>
  </span><span class=nt>"status"</span><span class=p>:</span><span class=w> </span><span class=s2>"pending"</span><span class=w>
</span><span class=p>}</span><span class=w>
</span></code></pre></div></div><p>The bill payment object will include a status which corresponds to the status of the transfer created in the Dwolla system, as well as the biller name for the payment. In addition, there will be a relational link which points to the transfer that was created from the bill payment request.</p><h2 id=handling-transfer-completed-and-failed-events>Handling transfer completed and failed events</h2><p>As the bank transfer makes its way from the source bank account to Regalii’s bank account (which is the first half of the bill payment life cycle), there are two webhooks that you’ll want to listen for to determine the settlement of funds.</p><ul><li><code>customer_transfer_completed</code>: If the first half ofthe bill payment is successful, the transfer status will be updated to processed and Dwolla will create a <code>customer_transfer_completed</code> event.</li><li><code>customer_transfer_failed</code>: If the first half of the bill payment fails to settle to Regalii’s bank, the transfer status will be updated to failed and Dwolla will create a <code>customer_transfer_failed</code> event. Failures occur as the result of an ACH return, and can occur either pre-settlement or post-settlement. For more information on bank transfer failures, reference our <a href=https://developers.dwolla.com/resources/bank-transfer-workflow/transfer-failures.html>transfer failures</a> resource article.</li></ul><hr><footer><div class=page-wrap><nav><h6>Product</h6><a href=https://www.dwolla.com/platform>Platform</a> <a href=https://www.dwolla.com/pricing>Pricing</a> <a href=https://www.dwolla.com/integrations>Integrations</a> <a href=https://www.dwolla.com/security>Security</a></nav><nav><h6>Resources</h6><a href=https://www.dwolla.com/updates>Blog</a> <a href=https://www.dwolla.com/case-studies>Case Studies</a> <a href=https://developers.dwolla.com>Developers</a> <a href=https://www.dwolla.com/contact>Contact Sales</a></nav><nav><h6>Company</h6><a href=https://www.dwolla.com/about>About</a> <a href=https://www.dwolla.com/careers>Careers</a> <a href=https://www.dwolla.com/industry-initiatives>Industry Initiatives</a> <a href=https://www.dwolla.com/press>Press</a></nav><nav><h6>Legal</h6><a href="https://www.dwolla.com/legal/tos/">Terms of Service</a> <a href="https://www.dwolla.com/legal/privacy/">Privacy Policy</a></nav></div></footer><section class=disclaimer><div class=page-wrap><h5>Financial institutions play an important role in the Dwolla network.</h5><p>Dwolla, Inc. is an agent of Veridian Credit Union and Compass Bank and all funds associated with your account in the Dwolla network are held in pooled accounts at Veridian Credit Union and Compass Bank. These funds are not eligible for individual insurance, including FDIC insurance and may not be eligible for share insurance by the National Credit Union Share Insurance Fund. Dwolla, Inc. is the operator of a software platform that communicates user instructions for funds transfers to Veridian Credit Union and Compass Bank.</p></div></section><section class=copyright><div class=page-wrap><div><span>&copy; 2018 Dwolla, Inc.</span> <a href="https://www.dwolla.com/legal/about-our-financial-institution-partner/">Dwolla, Inc. is an agent of its Financial Institution Partner(s)</a></div></div></section></section></div></div></div><script src=//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script>window.jQuery || document.write('<script src="/_bower_components/jquery/jquery.min.js"><\/script>')</script><script src=/js/script.c827.js></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
  function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
  e=o.createElement(i);r=o.getElementsByTagName(i)[0];
  e.src='//www.google-analytics.com/analytics.js';
  r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
  ga('create','UA-30404064-1');ga('send','pageview');</script><script type=text/javascript>(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/dfdjs7vb';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()

  window.Intercom('boot', {
    app_id: 'dfdjs7vb'
  });</script><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WRT5LD6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript></body></html>